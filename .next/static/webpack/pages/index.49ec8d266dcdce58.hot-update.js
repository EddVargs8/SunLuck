"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-hot-toast */ \"./node_modules/react-hot-toast/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _Board__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Board */ \"./pages/Board.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @solana/web3.js */ \"./node_modules/@solana/web3.js/lib/index.browser.esm.js\");\n/* harmony import */ var _thirdweb_dev_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @thirdweb-dev/react */ \"./node_modules/@thirdweb-dev/react/dist/thirdweb-dev-react.browser.esm.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst SOLANA_NETWORK = \"devnet\";\nconst Home = ()=>{\n    _s();\n    const [publicKey, setPublicKey] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const [balance, setBalance] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);\n    const [receiver, setReceiver] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [amount, setAmount] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [explorerLink, setExplorerLink] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [uploadUrl, setUploadUrl] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [url, setUrl] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [statusText, setStatusText] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        let key = window.localStorage.getItem(\"publicKey\"); //obtiene la publicKey del localStorage\n        setPublicKey(key);\n        if (key) getBalances(key);\n        if (explorerLink) setExplorerLink(null);\n    }, []);\n    const handleReceiverChange = (event)=>{\n        setReceiver(event.target.value);\n    };\n    const handleAmountChange = (event)=>{\n        setAmount(event.target.value);\n    };\n    const handleSubmit = async ()=>{\n        console.log(\"Este es el receptor\", receiver);\n        console.log(\"Este es el monto\", amount);\n        sendTransaction();\n    };\n    const handleUrlChange = (event)=>{\n        setUrl(event.target.value);\n        console.log(\"Si se esta seteando la URL\", url);\n    };\n    //Funcion para Iniciar sesion con nuestra Wallet de Phantom\n    const signIn = async ()=>{\n        var _window_phantom, _window;\n        //Si phantom no esta instalado\n        const provider = (_window = window) === null || _window === void 0 ? void 0 : (_window_phantom = _window.phantom) === null || _window_phantom === void 0 ? void 0 : _window_phantom.solana;\n        const { solana } = window;\n        if (!(provider === null || provider === void 0 ? void 0 : provider.isPhantom) || !solana.isPhantom) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].error(\"Phantom no esta instalado\");\n            setTimeout(()=>{\n                window.open(\"https://phantom.app/\", \"_blank\");\n            }, 2000);\n            return;\n        }\n        //Si phantom esta instalado\n        let phantom;\n        if (provider === null || provider === void 0 ? void 0 : provider.isPhantom) phantom = provider;\n        const { publicKey } = await phantom.connect(); //conecta a phantom\n        console.log(\"publicKey\", publicKey.toString()); //muestra la publicKey\n        setPublicKey(publicKey.toString()); //guarda la publicKey en el state\n        window.localStorage.setItem(\"publicKey\", publicKey.toString()); //guarda la publicKey en el localStorage\n        react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].success(\"Tu Wallet esta conectada \\uD83D\\uDC7B\");\n        getBalances(publicKey);\n    };\n    //Funcion para cerrar sesion con nuestra Wallet de Phantom\n    const signOut = async ()=>{\n        if (window) {\n            var _window_location, _window;\n            const { solana } = window;\n            window.localStorage.removeItem(\"publicKey\");\n            setPublicKey(null);\n            solana.disconnect();\n            router.reload((_window = window) === null || _window === void 0 ? void 0 : (_window_location = _window.location) === null || _window_location === void 0 ? void 0 : _window_location.pathname);\n        }\n    };\n    //Funcion para obtener el balance de nuestra wallet\n    const getBalances = async (publicKey)=>{\n        try {\n            const connection = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Connection((0,_solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.clusterApiUrl)(SOLANA_NETWORK), \"confirmed\");\n            const balance = await connection.getBalance(new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(publicKey));\n            const balancenew = balance / _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.LAMPORTS_PER_SOL;\n            setBalance(balancenew);\n        } catch (error) {\n            console.error(\"ERROR GET BALANCE\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].error(\"Something went wrong getting the balance\");\n        }\n    };\n    //Funcion para enviar una transaccion\n    const sendTransaction = async ()=>{\n        try {\n            var _window_phantom, _window;\n            //Consultar el balance de la wallet\n            getBalances(publicKey);\n            console.log(\"Este es el balance\", balance);\n            //Si el balance es menor al monto a enviar\n            if (balance < amount) {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].error(\"No tienes suficiente balance\");\n                return;\n            }\n            const provider = (_window = window) === null || _window === void 0 ? void 0 : (_window_phantom = _window.phantom) === null || _window_phantom === void 0 ? void 0 : _window_phantom.solana;\n            const connection = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Connection((0,_solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.clusterApiUrl)(SOLANA_NETWORK), \"confirmed\");\n            //Llaves\n            const fromPubkey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(publicKey);\n            const toPubkey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(receiver);\n            //Creamos la transaccion\n            const transaction = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(_solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.SystemProgram.transfer({\n                fromPubkey,\n                toPubkey,\n                lamports: amount * _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.LAMPORTS_PER_SOL\n            }));\n            console.log(\"Esta es la transaccion\", transaction);\n            //Traemos el ultimo blocke de hash\n            const { blockhash } = await connection.getLatestBlockhash();\n            transaction.recentBlockhash = blockhash;\n            transaction.feePayer = fromPubkey;\n            //Firmamos la transaccion\n            const transactionsignature = await provider.signTransaction(transaction);\n            //Enviamos la transaccion\n            const txid = await connection.sendRawTransaction(transactionsignature.serialize());\n            console.info(\"Transaccion con numero de id \".concat(txid, \" enviada\"));\n            //Esperamos a que se confirme la transaccion\n            const confirmation = await connection.confirmTransaction(txid, {\n                commitment: \"singleGossip\"\n            });\n            const { slot } = confirmation.value;\n            console.info(\"Transaccion con numero de id \".concat(txid, \" confirmado en el bloque \").concat(slot));\n            const solanaExplorerLink = \"https://explorer.solana.com/tx/\".concat(txid, \"?cluster=\").concat(SOLANA_NETWORK);\n            setExplorerLink(solanaExplorerLink);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].success(\"Transaccion enviada con exito :D \");\n            //Actualizamos el balance\n            getBalances(publicKey);\n            setAmount(null);\n            setReceiver(null);\n            return solanaExplorerLink;\n        } catch (error) {\n            console.error(\"ERROR SEND TRANSACTION\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].error(\"Error al enviar la transaccion\");\n        }\n    };\n    //Función para subir archivos a IPFS\n    const { mutateAsync: upload } = (0,_thirdweb_dev_react__WEBPACK_IMPORTED_MODULE_6__.useStorageUpload)();\n    const uploadToIpfs = async (file)=>{\n        setStatusText(\"Subiendo a IPFS...\");\n        const uploadUrl = await upload({\n            data: [\n                file\n            ],\n            options: {\n                uploadWithGatewayUrl: true,\n                uploadWithoutDirectory: true\n            }\n        });\n        return uploadUrl[0];\n    };\n    // URL a Blob\n    const urlToBLob = async (file)=>{\n        setStatusText(\"Transformando url...\");\n        await fetch(url).then((res)=>res.blob()).then((myBlob)=>{\n            // logs: Blob { size: 1024, type: \"image/jpeg\" }\n            myBlob.name = \"blob.png\";\n            file = new File([\n                myBlob\n            ], \"image.png\", {\n                type: myBlob.type\n            });\n        });\n        const uploadUrl = await uploadToIpfs(file);\n        console.log(\"uploadUrl\", uploadUrl);\n        setStatusText(\"La url de tu archivo es: \".concat(uploadUrl, \" \"));\n        setUploadUrl(uploadUrl);\n        return uploadUrl;\n    };\n    //Funcion para crear un NFT\n    const generateNFT = async ()=>{\n        try {\n            setStatusText(\"Creando tu NFT...❤\");\n            const mintedData = {\n                name: \"Mi primer NFT con Superteam MX\",\n                imageUrl: uploadUrl,\n                publicKey\n            };\n            console.log(\"Este es el objeto mintedData:\", mintedData);\n            setStatusText(\"Minteando tu NFT en la blockchain Solana \\uD83D\\uDE80 Porfavor espera...\");\n            const { data } = await axios__WEBPACK_IMPORTED_MODULE_7__[\"default\"].post(\"/api/mintnft\", mintedData);\n            const { signature: newSignature } = data;\n            const solanaExplorerUrl = \"https://solscan.io/tx/\".concat(newSignature, \"?cluster=\").concat(SOLANA_NETWORK);\n            console.log(\"solanaExplorerUrl\", solanaExplorerUrl);\n            setStatusText(\"\\xa1Listo! Tu NFT se a creado, revisa tu Phantom Wallet \\uD83D\\uDD96\");\n        } catch (error) {\n            console.error(\"ERROR GENERATE NFT\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].error(\"Error al generar el NFT\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col place-items-center justify-center\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n            type: \"submit\",\n            className: \"inline-flex h-8 w-52 justify-center bg-purple-500 font-bold text-white\",\n            onClick: ()=>{\n                signIn();\n            },\n            children: \"Conecta tu wallet \\uD83D\\uDC7B\"\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Alex\\\\Downloads\\\\HACKTON\\\\ForkProject1-main\\\\pages\\\\index.js\",\n            lineNumber: 265,\n            columnNumber: 29\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Alex\\\\Downloads\\\\HACKTON\\\\ForkProject1-main\\\\pages\\\\index.js\",\n        lineNumber: 264,\n        columnNumber: 9\n    }, undefined);\n};\n_s(Home, \"2Vu16+VfaL1AoCfYtfnhxvMz29Y=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter,\n        _thirdweb_dev_react__WEBPACK_IMPORTED_MODULE_6__.useStorageUpload\n    ];\n});\n_c = Home;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Home);\nvar _c;\n$RefreshReg$(_c, \"Home\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFDWlQsUUFBUVMsS0FBSyxDQUFDLHNCQUFzQkE7WUFDcEN2RCw2REFBVyxDQUFDO1FBQ2hCO0lBQ0o7SUFFQSxxQkFDSSw4REFBQ29IO1FBQUlDLFdBQVU7a0JBQ0ssNEVBQUNDO1lBQ0dWLE1BQUs7WUFDTFMsV0FBVTtZQUNWRSxTQUFTO2dCQUNMckU7WUFDSjtzQkFDSDs7Ozs7Ozs7Ozs7QUFLN0I7R0FoUU1qQzs7UUFFYVosa0RBQVNBO1FBaUxRUyxpRUFBZ0JBOzs7S0FuTDlDRztBQWtRTiwrREFBZUEsSUFBSUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9wYWdlcy9pbmRleC5qcz9iZWU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b2FzdCwgeyBUb2FzdGVyIH0gZnJvbSBcInJlYWN0LWhvdC10b2FzdFwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IEJvYXJkIGZyb20gJy4vQm9hcmQnOyBcbmltcG9ydCB7XG4gICAgQ29ubmVjdGlvbixcbiAgICBTeXN0ZW1Qcm9ncmFtLFxuICAgIFRyYW5zYWN0aW9uLFxuICAgIFB1YmxpY0tleSxcbiAgICBMQU1QT1JUU19QRVJfU09MLFxuICAgIGNsdXN0ZXJBcGlVcmwsXG4gICAgU2VuZFRyYW5zYWN0aW9uRXJyb3IsXG59IGZyb20gXCJAc29sYW5hL3dlYjMuanNcIjtcbmltcG9ydCB7IHVzZVN0b3JhZ2VVcGxvYWQgfSBmcm9tIFwiQHRoaXJkd2ViLWRldi9yZWFjdFwiO1xuXG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5cbmNvbnN0IFNPTEFOQV9ORVRXT1JLID0gXCJkZXZuZXRcIjtcblxuY29uc3QgSG9tZSA9ICgpID0+IHtcbiAgICBjb25zdCBbcHVibGljS2V5LCBzZXRQdWJsaWNLZXldID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gICAgY29uc3QgW2JhbGFuY2UsIHNldEJhbGFuY2VdID0gdXNlU3RhdGUoMCk7XG4gICAgY29uc3QgW3JlY2VpdmVyLCBzZXRSZWNlaXZlcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbYW1vdW50LCBzZXRBbW91bnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2V4cGxvcmVyTGluaywgc2V0RXhwbG9yZXJMaW5rXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gICAgY29uc3QgW3VwbG9hZFVybCwgc2V0VXBsb2FkVXJsXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFt1cmwsIHNldFVybF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbc3RhdHVzVGV4dCwgc2V0U3RhdHVzVGV4dF0gPSB1c2VTdGF0ZShcIlwiKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGxldCBrZXkgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwdWJsaWNLZXlcIik7IC8vb2J0aWVuZSBsYSBwdWJsaWNLZXkgZGVsIGxvY2FsU3RvcmFnZVxuICAgICAgICBzZXRQdWJsaWNLZXkoa2V5KTtcbiAgICAgICAgaWYgKGtleSkgZ2V0QmFsYW5jZXMoa2V5KTtcbiAgICAgICAgaWYgKGV4cGxvcmVyTGluaykgc2V0RXhwbG9yZXJMaW5rKG51bGwpO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGhhbmRsZVJlY2VpdmVyQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHNldFJlY2VpdmVyKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUFtb3VudENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgICBzZXRBbW91bnQoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVzdGUgZXMgZWwgcmVjZXB0b3JcIiwgcmVjZWl2ZXIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVzdGUgZXMgZWwgbW9udG9cIiwgYW1vdW50KTtcbiAgICAgICAgc2VuZFRyYW5zYWN0aW9uKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVVybENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgICBzZXRVcmwoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJTaSBzZSBlc3RhIHNldGVhbmRvIGxhIFVSTFwiLCB1cmwpO1xuICAgIH07XG5cbiAgICAvL0Z1bmNpb24gcGFyYSBJbmljaWFyIHNlc2lvbiBjb24gbnVlc3RyYSBXYWxsZXQgZGUgUGhhbnRvbVxuXG4gICAgY29uc3Qgc2lnbkluID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAvL1NpIHBoYW50b20gbm8gZXN0YSBpbnN0YWxhZG9cbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSB3aW5kb3c/LnBoYW50b20/LnNvbGFuYTtcbiAgICAgICAgY29uc3QgeyBzb2xhbmEgfSA9IHdpbmRvdztcblxuICAgICAgICBpZiAoIXByb3ZpZGVyPy5pc1BoYW50b20gfHwgIXNvbGFuYS5pc1BoYW50b20pIHtcbiAgICAgICAgICAgIHRvYXN0LmVycm9yKFwiUGhhbnRvbSBubyBlc3RhIGluc3RhbGFkb1wiKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKFwiaHR0cHM6Ly9waGFudG9tLmFwcC9cIiwgXCJfYmxhbmtcIik7XG4gICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvL1NpIHBoYW50b20gZXN0YSBpbnN0YWxhZG9cbiAgICAgICAgbGV0IHBoYW50b207XG4gICAgICAgIGlmIChwcm92aWRlcj8uaXNQaGFudG9tKSBwaGFudG9tID0gcHJvdmlkZXI7XG5cbiAgICAgICAgY29uc3QgeyBwdWJsaWNLZXkgfSA9IGF3YWl0IHBoYW50b20uY29ubmVjdCgpOyAvL2NvbmVjdGEgYSBwaGFudG9tXG4gICAgICAgIGNvbnNvbGUubG9nKFwicHVibGljS2V5XCIsIHB1YmxpY0tleS50b1N0cmluZygpKTsgLy9tdWVzdHJhIGxhIHB1YmxpY0tleVxuICAgICAgICBzZXRQdWJsaWNLZXkocHVibGljS2V5LnRvU3RyaW5nKCkpOyAvL2d1YXJkYSBsYSBwdWJsaWNLZXkgZW4gZWwgc3RhdGVcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHVibGljS2V5XCIsIHB1YmxpY0tleS50b1N0cmluZygpKTsgLy9ndWFyZGEgbGEgcHVibGljS2V5IGVuIGVsIGxvY2FsU3RvcmFnZVxuXG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCJUdSBXYWxsZXQgZXN0YSBjb25lY3RhZGEg8J+Ru1wiKTtcblxuICAgICAgICBnZXRCYWxhbmNlcyhwdWJsaWNLZXkpO1xuICAgIH07XG5cbiAgICAvL0Z1bmNpb24gcGFyYSBjZXJyYXIgc2VzaW9uIGNvbiBudWVzdHJhIFdhbGxldCBkZSBQaGFudG9tXG5cbiAgICBjb25zdCBzaWduT3V0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAod2luZG93KSB7XG4gICAgICAgICAgICBjb25zdCB7IHNvbGFuYSB9ID0gd2luZG93O1xuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwicHVibGljS2V5XCIpO1xuICAgICAgICAgICAgc2V0UHVibGljS2V5KG51bGwpO1xuICAgICAgICAgICAgc29sYW5hLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHJvdXRlci5yZWxvYWQod2luZG93Py5sb2NhdGlvbj8ucGF0aG5hbWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vRnVuY2lvbiBwYXJhIG9idGVuZXIgZWwgYmFsYW5jZSBkZSBudWVzdHJhIHdhbGxldFxuXG4gICAgY29uc3QgZ2V0QmFsYW5jZXMgPSBhc3luYyAocHVibGljS2V5KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gbmV3IENvbm5lY3Rpb24oXG4gICAgICAgICAgICAgICAgY2x1c3RlckFwaVVybChTT0xBTkFfTkVUV09SSyksXG4gICAgICAgICAgICAgICAgXCJjb25maXJtZWRcIlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgYmFsYW5jZSA9IGF3YWl0IGNvbm5lY3Rpb24uZ2V0QmFsYW5jZShcbiAgICAgICAgICAgICAgICBuZXcgUHVibGljS2V5KHB1YmxpY0tleSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IGJhbGFuY2VuZXcgPSBiYWxhbmNlIC8gTEFNUE9SVFNfUEVSX1NPTDtcbiAgICAgICAgICAgIHNldEJhbGFuY2UoYmFsYW5jZW5ldyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRVJST1IgR0VUIEJBTEFOQ0VcIiwgZXJyb3IpO1xuICAgICAgICAgICAgdG9hc3QuZXJyb3IoXCJTb21ldGhpbmcgd2VudCB3cm9uZyBnZXR0aW5nIHRoZSBiYWxhbmNlXCIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vRnVuY2lvbiBwYXJhIGVudmlhciB1bmEgdHJhbnNhY2Npb25cbiAgICBjb25zdCBzZW5kVHJhbnNhY3Rpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvL0NvbnN1bHRhciBlbCBiYWxhbmNlIGRlIGxhIHdhbGxldFxuICAgICAgICAgICAgZ2V0QmFsYW5jZXMocHVibGljS2V5KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXN0ZSBlcyBlbCBiYWxhbmNlXCIsIGJhbGFuY2UpO1xuXG4gICAgICAgICAgICAvL1NpIGVsIGJhbGFuY2UgZXMgbWVub3IgYWwgbW9udG8gYSBlbnZpYXJcbiAgICAgICAgICAgIGlmIChiYWxhbmNlIDwgYW1vdW50KSB7XG4gICAgICAgICAgICAgICAgdG9hc3QuZXJyb3IoXCJObyB0aWVuZXMgc3VmaWNpZW50ZSBiYWxhbmNlXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcHJvdmlkZXIgPSB3aW5kb3c/LnBoYW50b20/LnNvbGFuYTtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBuZXcgQ29ubmVjdGlvbihcbiAgICAgICAgICAgICAgICBjbHVzdGVyQXBpVXJsKFNPTEFOQV9ORVRXT1JLKSxcbiAgICAgICAgICAgICAgICBcImNvbmZpcm1lZFwiXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvL0xsYXZlc1xuXG4gICAgICAgICAgICBjb25zdCBmcm9tUHVia2V5ID0gbmV3IFB1YmxpY0tleShwdWJsaWNLZXkpO1xuICAgICAgICAgICAgY29uc3QgdG9QdWJrZXkgPSBuZXcgUHVibGljS2V5KHJlY2VpdmVyKTtcblxuICAgICAgICAgICAgLy9DcmVhbW9zIGxhIHRyYW5zYWNjaW9uXG4gICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IG5ldyBUcmFuc2FjdGlvbigpLmFkZChcbiAgICAgICAgICAgICAgICBTeXN0ZW1Qcm9ncmFtLnRyYW5zZmVyKHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbVB1YmtleSxcbiAgICAgICAgICAgICAgICAgICAgdG9QdWJrZXksXG4gICAgICAgICAgICAgICAgICAgIGxhbXBvcnRzOiBhbW91bnQgKiBMQU1QT1JUU19QRVJfU09MLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFc3RhIGVzIGxhIHRyYW5zYWNjaW9uXCIsIHRyYW5zYWN0aW9uKTtcblxuICAgICAgICAgICAgLy9UcmFlbW9zIGVsIHVsdGltbyBibG9ja2UgZGUgaGFzaFxuICAgICAgICAgICAgY29uc3QgeyBibG9ja2hhc2ggfSA9IGF3YWl0IGNvbm5lY3Rpb24uZ2V0TGF0ZXN0QmxvY2toYXNoKCk7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5yZWNlbnRCbG9ja2hhc2ggPSBibG9ja2hhc2g7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5mZWVQYXllciA9IGZyb21QdWJrZXk7XG5cbiAgICAgICAgICAgIC8vRmlybWFtb3MgbGEgdHJhbnNhY2Npb25cbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uc2lnbmF0dXJlID0gYXdhaXQgcHJvdmlkZXIuc2lnblRyYW5zYWN0aW9uKFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvL0VudmlhbW9zIGxhIHRyYW5zYWNjaW9uXG4gICAgICAgICAgICBjb25zdCB0eGlkID0gYXdhaXQgY29ubmVjdGlvbi5zZW5kUmF3VHJhbnNhY3Rpb24oXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25zaWduYXR1cmUuc2VyaWFsaXplKClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oYFRyYW5zYWNjaW9uIGNvbiBudW1lcm8gZGUgaWQgJHt0eGlkfSBlbnZpYWRhYCk7XG5cbiAgICAgICAgICAgIC8vRXNwZXJhbW9zIGEgcXVlIHNlIGNvbmZpcm1lIGxhIHRyYW5zYWNjaW9uXG4gICAgICAgICAgICBjb25zdCBjb25maXJtYXRpb24gPSBhd2FpdCBjb25uZWN0aW9uLmNvbmZpcm1UcmFuc2FjdGlvbih0eGlkLCB7XG4gICAgICAgICAgICAgICAgY29tbWl0bWVudDogXCJzaW5nbGVHb3NzaXBcIixcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCB7IHNsb3QgfSA9IGNvbmZpcm1hdGlvbi52YWx1ZTtcblxuICAgICAgICAgICAgY29uc29sZS5pbmZvKFxuICAgICAgICAgICAgICAgIGBUcmFuc2FjY2lvbiBjb24gbnVtZXJvIGRlIGlkICR7dHhpZH0gY29uZmlybWFkbyBlbiBlbCBibG9xdWUgJHtzbG90fWBcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNvbGFuYUV4cGxvcmVyTGluayA9IGBodHRwczovL2V4cGxvcmVyLnNvbGFuYS5jb20vdHgvJHt0eGlkfT9jbHVzdGVyPSR7U09MQU5BX05FVFdPUkt9YDtcbiAgICAgICAgICAgIHNldEV4cGxvcmVyTGluayhzb2xhbmFFeHBsb3JlckxpbmspO1xuXG4gICAgICAgICAgICB0b2FzdC5zdWNjZXNzKFwiVHJhbnNhY2Npb24gZW52aWFkYSBjb24gZXhpdG8gOkQgXCIpO1xuXG4gICAgICAgICAgICAvL0FjdHVhbGl6YW1vcyBlbCBiYWxhbmNlXG4gICAgICAgICAgICBnZXRCYWxhbmNlcyhwdWJsaWNLZXkpO1xuICAgICAgICAgICAgc2V0QW1vdW50KG51bGwpO1xuICAgICAgICAgICAgc2V0UmVjZWl2ZXIobnVsbCk7XG5cbiAgICAgICAgICAgIHJldHVybiBzb2xhbmFFeHBsb3Jlckxpbms7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRVJST1IgU0VORCBUUkFOU0FDVElPTlwiLCBlcnJvcik7XG4gICAgICAgICAgICB0b2FzdC5lcnJvcihcIkVycm9yIGFsIGVudmlhciBsYSB0cmFuc2FjY2lvblwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvL0Z1bmNpw7NuIHBhcmEgc3ViaXIgYXJjaGl2b3MgYSBJUEZTXG5cbiAgICBjb25zdCB7IG11dGF0ZUFzeW5jOiB1cGxvYWQgfSA9IHVzZVN0b3JhZ2VVcGxvYWQoKTtcblxuICAgIGNvbnN0IHVwbG9hZFRvSXBmcyA9IGFzeW5jIChmaWxlKSA9PiB7XG4gICAgICAgIHNldFN0YXR1c1RleHQoXCJTdWJpZW5kbyBhIElQRlMuLi5cIik7XG4gICAgICAgIGNvbnN0IHVwbG9hZFVybCA9IGF3YWl0IHVwbG9hZCh7XG4gICAgICAgICAgICBkYXRhOiBbZmlsZV0sXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgdXBsb2FkV2l0aEdhdGV3YXlVcmw6IHRydWUsXG4gICAgICAgICAgICAgICAgdXBsb2FkV2l0aG91dERpcmVjdG9yeTogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdXBsb2FkVXJsWzBdO1xuICAgIH07XG5cbiAgICAvLyBVUkwgYSBCbG9iXG4gICAgY29uc3QgdXJsVG9CTG9iID0gYXN5bmMgKGZpbGUpID0+IHtcbiAgICAgICAgc2V0U3RhdHVzVGV4dChcIlRyYW5zZm9ybWFuZG8gdXJsLi4uXCIpO1xuICAgICAgICBhd2FpdCBmZXRjaCh1cmwpXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuYmxvYigpKVxuICAgICAgICAgICAgLnRoZW4oKG15QmxvYikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGxvZ3M6IEJsb2IgeyBzaXplOiAxMDI0LCB0eXBlOiBcImltYWdlL2pwZWdcIiB9XG5cbiAgICAgICAgICAgICAgICBteUJsb2IubmFtZSA9IFwiYmxvYi5wbmdcIjtcblxuICAgICAgICAgICAgICAgIGZpbGUgPSBuZXcgRmlsZShbbXlCbG9iXSwgXCJpbWFnZS5wbmdcIiwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBteUJsb2IudHlwZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHVwbG9hZFVybCA9IGF3YWl0IHVwbG9hZFRvSXBmcyhmaWxlKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJ1cGxvYWRVcmxcIiwgdXBsb2FkVXJsKTtcblxuICAgICAgICBzZXRTdGF0dXNUZXh0KGBMYSB1cmwgZGUgdHUgYXJjaGl2byBlczogJHt1cGxvYWRVcmx9IGApO1xuICAgICAgICBzZXRVcGxvYWRVcmwodXBsb2FkVXJsKTtcblxuICAgICAgICByZXR1cm4gdXBsb2FkVXJsO1xuICAgIH07XG5cbiAgICAvL0Z1bmNpb24gcGFyYSBjcmVhciB1biBORlRcbiAgICBjb25zdCBnZW5lcmF0ZU5GVCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldFN0YXR1c1RleHQoXCJDcmVhbmRvIHR1IE5GVC4uLuKdpFwiKTtcbiAgICAgICAgICAgIGNvbnN0IG1pbnRlZERhdGEgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJNaSBwcmltZXIgTkZUIGNvbiBTdXBlcnRlYW0gTVhcIixcbiAgICAgICAgICAgICAgICBpbWFnZVVybDogdXBsb2FkVXJsLFxuICAgICAgICAgICAgICAgIHB1YmxpY0tleSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVzdGUgZXMgZWwgb2JqZXRvIG1pbnRlZERhdGE6XCIsIG1pbnRlZERhdGEpO1xuICAgICAgICAgICAgc2V0U3RhdHVzVGV4dChcbiAgICAgICAgICAgICAgICBcIk1pbnRlYW5kbyB0dSBORlQgZW4gbGEgYmxvY2tjaGFpbiBTb2xhbmEg8J+agCBQb3JmYXZvciBlc3BlcmEuLi5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MucG9zdChcIi9hcGkvbWludG5mdFwiLCBtaW50ZWREYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IHsgc2lnbmF0dXJlOiBuZXdTaWduYXR1cmUgfSA9IGRhdGE7XG4gICAgICAgICAgICBjb25zdCBzb2xhbmFFeHBsb3JlclVybCA9IGBodHRwczovL3NvbHNjYW4uaW8vdHgvJHtuZXdTaWduYXR1cmV9P2NsdXN0ZXI9JHtTT0xBTkFfTkVUV09SS31gO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzb2xhbmFFeHBsb3JlclVybFwiLCBzb2xhbmFFeHBsb3JlclVybCk7XG4gICAgICAgICAgICBzZXRTdGF0dXNUZXh0KFxuICAgICAgICAgICAgICAgIFwiwqFMaXN0byEgVHUgTkZUIHNlIGEgY3JlYWRvLCByZXZpc2EgdHUgUGhhbnRvbSBXYWxsZXQg8J+WllwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVSUk9SIEdFTkVSQVRFIE5GVFwiLCBlcnJvcik7XG4gICAgICAgICAgICB0b2FzdC5lcnJvcihcIkVycm9yIGFsIGdlbmVyYXIgZWwgTkZUXCIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBwbGFjZS1pdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBoLTggdy01MiBqdXN0aWZ5LWNlbnRlciBiZy1wdXJwbGUtNTAwIGZvbnQtYm9sZCB0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbkluKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb25lY3RhIHR1IHdhbGxldCDwn5G7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSG9tZTtcbiJdLCJuYW1lcyI6WyJ0b2FzdCIsIlRvYXN0ZXIiLCJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUm91dGVyIiwiQm9hcmQiLCJDb25uZWN0aW9uIiwiU3lzdGVtUHJvZ3JhbSIsIlRyYW5zYWN0aW9uIiwiUHVibGljS2V5IiwiTEFNUE9SVFNfUEVSX1NPTCIsImNsdXN0ZXJBcGlVcmwiLCJTZW5kVHJhbnNhY3Rpb25FcnJvciIsInVzZVN0b3JhZ2VVcGxvYWQiLCJheGlvcyIsIlNPTEFOQV9ORVRXT1JLIiwiSG9tZSIsInB1YmxpY0tleSIsInNldFB1YmxpY0tleSIsInJvdXRlciIsImJhbGFuY2UiLCJzZXRCYWxhbmNlIiwicmVjZWl2ZXIiLCJzZXRSZWNlaXZlciIsImFtb3VudCIsInNldEFtb3VudCIsImV4cGxvcmVyTGluayIsInNldEV4cGxvcmVyTGluayIsInVwbG9hZFVybCIsInNldFVwbG9hZFVybCIsInVybCIsInNldFVybCIsInN0YXR1c1RleHQiLCJzZXRTdGF0dXNUZXh0Iiwia2V5Iiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImdldEJhbGFuY2VzIiwiaGFuZGxlUmVjZWl2ZXJDaGFuZ2UiLCJldmVudCIsInRhcmdldCIsInZhbHVlIiwiaGFuZGxlQW1vdW50Q2hhbmdlIiwiaGFuZGxlU3VibWl0IiwiY29uc29sZSIsImxvZyIsInNlbmRUcmFuc2FjdGlvbiIsImhhbmRsZVVybENoYW5nZSIsInNpZ25JbiIsInByb3ZpZGVyIiwicGhhbnRvbSIsInNvbGFuYSIsImlzUGhhbnRvbSIsImVycm9yIiwic2V0VGltZW91dCIsIm9wZW4iLCJjb25uZWN0IiwidG9TdHJpbmciLCJzZXRJdGVtIiwic3VjY2VzcyIsInNpZ25PdXQiLCJyZW1vdmVJdGVtIiwiZGlzY29ubmVjdCIsInJlbG9hZCIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJjb25uZWN0aW9uIiwiZ2V0QmFsYW5jZSIsImJhbGFuY2VuZXciLCJmcm9tUHVia2V5IiwidG9QdWJrZXkiLCJ0cmFuc2FjdGlvbiIsImFkZCIsInRyYW5zZmVyIiwibGFtcG9ydHMiLCJibG9ja2hhc2giLCJnZXRMYXRlc3RCbG9ja2hhc2giLCJyZWNlbnRCbG9ja2hhc2giLCJmZWVQYXllciIsInRyYW5zYWN0aW9uc2lnbmF0dXJlIiwic2lnblRyYW5zYWN0aW9uIiwidHhpZCIsInNlbmRSYXdUcmFuc2FjdGlvbiIsInNlcmlhbGl6ZSIsImluZm8iLCJjb25maXJtYXRpb24iLCJjb25maXJtVHJhbnNhY3Rpb24iLCJjb21taXRtZW50Iiwic2xvdCIsInNvbGFuYUV4cGxvcmVyTGluayIsIm11dGF0ZUFzeW5jIiwidXBsb2FkIiwidXBsb2FkVG9JcGZzIiwiZmlsZSIsImRhdGEiLCJvcHRpb25zIiwidXBsb2FkV2l0aEdhdGV3YXlVcmwiLCJ1cGxvYWRXaXRob3V0RGlyZWN0b3J5IiwidXJsVG9CTG9iIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwiYmxvYiIsIm15QmxvYiIsIm5hbWUiLCJGaWxlIiwidHlwZSIsImdlbmVyYXRlTkZUIiwibWludGVkRGF0YSIsImltYWdlVXJsIiwicG9zdCIsInNpZ25hdHVyZSIsIm5ld1NpZ25hdHVyZSIsInNvbGFuYUV4cGxvcmVyVXJsIiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwib25DbGljayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/index.js\n"));

/***/ })

});
"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-hot-toast */ \"./node_modules/react-hot-toast/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _Board__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Board */ \"./pages/Board.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @solana/web3.js */ \"./node_modules/@solana/web3.js/lib/index.browser.esm.js\");\n/* harmony import */ var _thirdweb_dev_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @thirdweb-dev/react */ \"./node_modules/@thirdweb-dev/react/dist/thirdweb-dev-react.browser.esm.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst SOLANA_NETWORK = \"devnet\";\nconst Home = ()=>{\n    _s();\n    const [publicKey, setPublicKey] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const [balance, setBalance] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);\n    const [receiver, setReceiver] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [amount, setAmount] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [explorerLink, setExplorerLink] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [uploadUrl, setUploadUrl] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [url, setUrl] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [statusText, setStatusText] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        let key = window.localStorage.getItem(\"publicKey\"); //obtiene la publicKey del localStorage\n        setPublicKey(key);\n        if (key) getBalances(key);\n        if (explorerLink) setExplorerLink(null);\n    }, []);\n    const handleReceiverChange = (event)=>{\n        setReceiver(event.target.value);\n    };\n    const handleAmountChange = (event)=>{\n        setAmount(event.target.value);\n    };\n    const handleSubmit = async ()=>{\n        console.log(\"Este es el receptor\", receiver);\n        console.log(\"Este es el monto\", amount);\n        sendTransaction();\n    };\n    const handleUrlChange = (event)=>{\n        setUrl(event.target.value);\n        console.log(\"Si se esta seteando la URL\", url);\n    };\n    //Funcion para Iniciar sesion con nuestra Wallet de Phantom\n    const signIn = async ()=>{\n        var _window_phantom, _window;\n        //Si phantom no esta instalado\n        const provider = (_window = window) === null || _window === void 0 ? void 0 : (_window_phantom = _window.phantom) === null || _window_phantom === void 0 ? void 0 : _window_phantom.solana;\n        const { solana } = window;\n        if (!(provider === null || provider === void 0 ? void 0 : provider.isPhantom) || !solana.isPhantom) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].error(\"Phantom no esta instalado\");\n            setTimeout(()=>{\n                window.open(\"https://phantom.app/\", \"_blank\");\n            }, 2000);\n            return;\n        }\n        //Si phantom esta instalado\n        let phantom;\n        if (provider === null || provider === void 0 ? void 0 : provider.isPhantom) phantom = provider;\n        const { publicKey } = await phantom.connect(); //conecta a phantom\n        console.log(\"publicKey\", publicKey.toString()); //muestra la publicKey\n        setPublicKey(publicKey.toString()); //guarda la publicKey en el state\n        window.localStorage.setItem(\"publicKey\", publicKey.toString()); //guarda la publicKey en el localStorage\n        react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].success(\"Tu Wallet esta conectada \\uD83D\\uDC7B\");\n        getBalances(publicKey);\n    };\n    //Funcion para cerrar sesion con nuestra Wallet de Phantom\n    const signOut = async ()=>{\n        if (window) {\n            var _window_location, _window;\n            const { solana } = window;\n            window.localStorage.removeItem(\"publicKey\");\n            setPublicKey(null);\n            solana.disconnect();\n            router.reload((_window = window) === null || _window === void 0 ? void 0 : (_window_location = _window.location) === null || _window_location === void 0 ? void 0 : _window_location.pathname);\n        }\n    };\n    //Funcion para obtener el balance de nuestra wallet\n    const getBalances = async (publicKey)=>{\n        try {\n            const connection = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Connection((0,_solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.clusterApiUrl)(SOLANA_NETWORK), \"confirmed\");\n            const balance = await connection.getBalance(new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(publicKey));\n            const balancenew = balance / _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.LAMPORTS_PER_SOL;\n            setBalance(balancenew);\n        } catch (error) {\n            console.error(\"ERROR GET BALANCE\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].error(\"Something went wrong getting the balance\");\n        }\n    };\n    //Funcion para enviar una transaccion\n    const sendTransaction = async ()=>{\n        try {\n            var _window_phantom, _window;\n            //Consultar el balance de la wallet\n            getBalances(publicKey);\n            console.log(\"Este es el balance\", balance);\n            //Si el balance es menor al monto a enviar\n            if (balance < amount) {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].error(\"No tienes suficiente balance\");\n                return;\n            }\n            const provider = (_window = window) === null || _window === void 0 ? void 0 : (_window_phantom = _window.phantom) === null || _window_phantom === void 0 ? void 0 : _window_phantom.solana;\n            const connection = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Connection((0,_solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.clusterApiUrl)(SOLANA_NETWORK), \"confirmed\");\n            //Llaves\n            const fromPubkey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(publicKey);\n            const toPubkey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(receiver);\n            //Creamos la transaccion\n            const transaction = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(_solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.SystemProgram.transfer({\n                fromPubkey,\n                toPubkey,\n                lamports: amount * _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.LAMPORTS_PER_SOL\n            }));\n            console.log(\"Esta es la transaccion\", transaction);\n            //Traemos el ultimo blocke de hash\n            const { blockhash } = await connection.getLatestBlockhash();\n            transaction.recentBlockhash = blockhash;\n            transaction.feePayer = fromPubkey;\n            //Firmamos la transaccion\n            const transactionsignature = await provider.signTransaction(transaction);\n            //Enviamos la transaccion\n            const txid = await connection.sendRawTransaction(transactionsignature.serialize());\n            console.info(\"Transaccion con numero de id \".concat(txid, \" enviada\"));\n            //Esperamos a que se confirme la transaccion\n            const confirmation = await connection.confirmTransaction(txid, {\n                commitment: \"singleGossip\"\n            });\n            const { slot } = confirmation.value;\n            console.info(\"Transaccion con numero de id \".concat(txid, \" confirmado en el bloque \").concat(slot));\n            const solanaExplorerLink = \"https://explorer.solana.com/tx/\".concat(txid, \"?cluster=\").concat(SOLANA_NETWORK);\n            setExplorerLink(solanaExplorerLink);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].success(\"Transaccion enviada con exito :D \");\n            //Actualizamos el balance\n            getBalances(publicKey);\n            setAmount(null);\n            setReceiver(null);\n            return solanaExplorerLink;\n        } catch (error) {\n            console.error(\"ERROR SEND TRANSACTION\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].error(\"Error al enviar la transaccion\");\n        }\n    };\n    //Función para subir archivos a IPFS\n    const { mutateAsync: upload } = (0,_thirdweb_dev_react__WEBPACK_IMPORTED_MODULE_6__.useStorageUpload)();\n    const uploadToIpfs = async (file)=>{\n        setStatusText(\"Subiendo a IPFS...\");\n        const uploadUrl = await upload({\n            data: [\n                file\n            ],\n            options: {\n                uploadWithGatewayUrl: true,\n                uploadWithoutDirectory: true\n            }\n        });\n        return uploadUrl[0];\n    };\n    // URL a Blob\n    const urlToBLob = async (file)=>{\n        setStatusText(\"Transformando url...\");\n        await fetch(url).then((res)=>res.blob()).then((myBlob)=>{\n            // logs: Blob { size: 1024, type: \"image/jpeg\" }\n            myBlob.name = \"blob.png\";\n            file = new File([\n                myBlob\n            ], \"image.png\", {\n                type: myBlob.type\n            });\n        });\n        const uploadUrl = await uploadToIpfs(file);\n        console.log(\"uploadUrl\", uploadUrl);\n        setStatusText(\"La url de tu archivo es: \".concat(uploadUrl, \" \"));\n        setUploadUrl(uploadUrl);\n        return uploadUrl;\n    };\n    //Funcion para crear un NFT\n    const generateNFT = async ()=>{\n        try {\n            setStatusText(\"Creando tu NFT...❤\");\n            const mintedData = {\n                name: \"Mi primer NFT con Superteam MX\",\n                imageUrl: uploadUrl,\n                publicKey\n            };\n            console.log(\"Este es el objeto mintedData:\", mintedData);\n            setStatusText(\"Minteando tu NFT en la blockchain Solana \\uD83D\\uDE80 Porfavor espera...\");\n            const { data } = await axios__WEBPACK_IMPORTED_MODULE_7__[\"default\"].post(\"/api/mintnft\", mintedData);\n            const { signature: newSignature } = data;\n            const solanaExplorerUrl = \"https://solscan.io/tx/\".concat(newSignature, \"?cluster=\").concat(SOLANA_NETWORK);\n            console.log(\"solanaExplorerUrl\", solanaExplorerUrl);\n            setStatusText(\"\\xa1Listo! Tu NFT se a creado, revisa tu Phantom Wallet \\uD83D\\uDD96\");\n        } catch (error) {\n            console.error(\"ERROR GENERATE NFT\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_1__[\"default\"].error(\"Error al generar el NFT\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        type: \"submit\",\n        className: \"inline-flex h-8 w-52 justify-center bg-purple-500 font-bold text-white\",\n        onClick: ()=>{\n            signIn();\n        },\n        children: \"Iniciar Sesion ⚡\"\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Alex\\\\Downloads\\\\HACKTON\\\\ForkProject1-main\\\\pages\\\\index.js\",\n        lineNumber: 264,\n        columnNumber: 9\n    }, undefined);\n};\n_s(Home, \"2Vu16+VfaL1AoCfYtfnhxvMz29Y=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter,\n        _thirdweb_dev_react__WEBPACK_IMPORTED_MODULE_6__.useStorageUpload\n    ];\n});\n_c = Home;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Home);\nvar _c;\n$RefreshReg$(_c, \"Home\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFDWlQsUUFBUVMsS0FBSyxDQUFDLHNCQUFzQkE7WUFDcEN2RCw2REFBVyxDQUFDO1FBQ2hCO0lBQ0o7SUFFQSxxQkFDSSw4REFBQ29IO1FBQ3VCUixNQUFLO1FBQ0xTLFdBQVU7UUFDVkMsU0FBUztZQUNMcEU7UUFDSjtrQkFDSDs7Ozs7O0FBSTdCO0dBOVBNakM7O1FBRWFaLGtEQUFTQTtRQWlMUVMsaUVBQWdCQTs7O0tBbkw5Q0c7QUFnUU4sK0RBQWVBLElBQUlBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vcGFnZXMvaW5kZXguanM/YmVlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdG9hc3QsIHsgVG9hc3RlciB9IGZyb20gXCJyZWFjdC1ob3QtdG9hc3RcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcbmltcG9ydCBCb2FyZCBmcm9tICcuL0JvYXJkJzsgXG5pbXBvcnQge1xuICAgIENvbm5lY3Rpb24sXG4gICAgU3lzdGVtUHJvZ3JhbSxcbiAgICBUcmFuc2FjdGlvbixcbiAgICBQdWJsaWNLZXksXG4gICAgTEFNUE9SVFNfUEVSX1NPTCxcbiAgICBjbHVzdGVyQXBpVXJsLFxuICAgIFNlbmRUcmFuc2FjdGlvbkVycm9yLFxufSBmcm9tIFwiQHNvbGFuYS93ZWIzLmpzXCI7XG5pbXBvcnQgeyB1c2VTdG9yYWdlVXBsb2FkIH0gZnJvbSBcIkB0aGlyZHdlYi1kZXYvcmVhY3RcIjtcblxuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuXG5jb25zdCBTT0xBTkFfTkVUV09SSyA9IFwiZGV2bmV0XCI7XG5cbmNvbnN0IEhvbWUgPSAoKSA9PiB7XG4gICAgY29uc3QgW3B1YmxpY0tleSwgc2V0UHVibGljS2V5XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICAgIGNvbnN0IFtiYWxhbmNlLCBzZXRCYWxhbmNlXSA9IHVzZVN0YXRlKDApO1xuICAgIGNvbnN0IFtyZWNlaXZlciwgc2V0UmVjZWl2ZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2Ftb3VudCwgc2V0QW1vdW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtleHBsb3JlckxpbmssIHNldEV4cGxvcmVyTGlua10gPSB1c2VTdGF0ZShudWxsKTtcblxuICAgIGNvbnN0IFt1cGxvYWRVcmwsIHNldFVwbG9hZFVybF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbdXJsLCBzZXRVcmxdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3N0YXR1c1RleHQsIHNldFN0YXR1c1RleHRdID0gdXNlU3RhdGUoXCJcIik7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBsZXQga2V5ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicHVibGljS2V5XCIpOyAvL29idGllbmUgbGEgcHVibGljS2V5IGRlbCBsb2NhbFN0b3JhZ2VcbiAgICAgICAgc2V0UHVibGljS2V5KGtleSk7XG4gICAgICAgIGlmIChrZXkpIGdldEJhbGFuY2VzKGtleSk7XG4gICAgICAgIGlmIChleHBsb3JlckxpbmspIHNldEV4cGxvcmVyTGluayhudWxsKTtcbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCBoYW5kbGVSZWNlaXZlckNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgICBzZXRSZWNlaXZlcihldmVudC50YXJnZXQudmFsdWUpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVBbW91bnRDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgc2V0QW1vdW50KGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFc3RlIGVzIGVsIHJlY2VwdG9yXCIsIHJlY2VpdmVyKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJFc3RlIGVzIGVsIG1vbnRvXCIsIGFtb3VudCk7XG4gICAgICAgIHNlbmRUcmFuc2FjdGlvbigpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVVcmxDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgc2V0VXJsKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2kgc2UgZXN0YSBzZXRlYW5kbyBsYSBVUkxcIiwgdXJsKTtcbiAgICB9O1xuXG4gICAgLy9GdW5jaW9uIHBhcmEgSW5pY2lhciBzZXNpb24gY29uIG51ZXN0cmEgV2FsbGV0IGRlIFBoYW50b21cblxuICAgIGNvbnN0IHNpZ25JbiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgLy9TaSBwaGFudG9tIG5vIGVzdGEgaW5zdGFsYWRvXG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gd2luZG93Py5waGFudG9tPy5zb2xhbmE7XG4gICAgICAgIGNvbnN0IHsgc29sYW5hIH0gPSB3aW5kb3c7XG5cbiAgICAgICAgaWYgKCFwcm92aWRlcj8uaXNQaGFudG9tIHx8ICFzb2xhbmEuaXNQaGFudG9tKSB7XG4gICAgICAgICAgICB0b2FzdC5lcnJvcihcIlBoYW50b20gbm8gZXN0YSBpbnN0YWxhZG9cIik7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihcImh0dHBzOi8vcGhhbnRvbS5hcHAvXCIsIFwiX2JsYW5rXCIpO1xuICAgICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy9TaSBwaGFudG9tIGVzdGEgaW5zdGFsYWRvXG4gICAgICAgIGxldCBwaGFudG9tO1xuICAgICAgICBpZiAocHJvdmlkZXI/LmlzUGhhbnRvbSkgcGhhbnRvbSA9IHByb3ZpZGVyO1xuXG4gICAgICAgIGNvbnN0IHsgcHVibGljS2V5IH0gPSBhd2FpdCBwaGFudG9tLmNvbm5lY3QoKTsgLy9jb25lY3RhIGEgcGhhbnRvbVxuICAgICAgICBjb25zb2xlLmxvZyhcInB1YmxpY0tleVwiLCBwdWJsaWNLZXkudG9TdHJpbmcoKSk7IC8vbXVlc3RyYSBsYSBwdWJsaWNLZXlcbiAgICAgICAgc2V0UHVibGljS2V5KHB1YmxpY0tleS50b1N0cmluZygpKTsgLy9ndWFyZGEgbGEgcHVibGljS2V5IGVuIGVsIHN0YXRlXG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInB1YmxpY0tleVwiLCBwdWJsaWNLZXkudG9TdHJpbmcoKSk7IC8vZ3VhcmRhIGxhIHB1YmxpY0tleSBlbiBlbCBsb2NhbFN0b3JhZ2VcblxuICAgICAgICB0b2FzdC5zdWNjZXNzKFwiVHUgV2FsbGV0IGVzdGEgY29uZWN0YWRhIPCfkbtcIik7XG5cbiAgICAgICAgZ2V0QmFsYW5jZXMocHVibGljS2V5KTtcbiAgICB9O1xuXG4gICAgLy9GdW5jaW9uIHBhcmEgY2VycmFyIHNlc2lvbiBjb24gbnVlc3RyYSBXYWxsZXQgZGUgUGhhbnRvbVxuXG4gICAgY29uc3Qgc2lnbk91dCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKHdpbmRvdykge1xuICAgICAgICAgICAgY29uc3QgeyBzb2xhbmEgfSA9IHdpbmRvdztcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInB1YmxpY0tleVwiKTtcbiAgICAgICAgICAgIHNldFB1YmxpY0tleShudWxsKTtcbiAgICAgICAgICAgIHNvbGFuYS5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICByb3V0ZXIucmVsb2FkKHdpbmRvdz8ubG9jYXRpb24/LnBhdGhuYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvL0Z1bmNpb24gcGFyYSBvYnRlbmVyIGVsIGJhbGFuY2UgZGUgbnVlc3RyYSB3YWxsZXRcblxuICAgIGNvbnN0IGdldEJhbGFuY2VzID0gYXN5bmMgKHB1YmxpY0tleSkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IG5ldyBDb25uZWN0aW9uKFxuICAgICAgICAgICAgICAgIGNsdXN0ZXJBcGlVcmwoU09MQU5BX05FVFdPUkspLFxuICAgICAgICAgICAgICAgIFwiY29uZmlybWVkXCJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IGJhbGFuY2UgPSBhd2FpdCBjb25uZWN0aW9uLmdldEJhbGFuY2UoXG4gICAgICAgICAgICAgICAgbmV3IFB1YmxpY0tleShwdWJsaWNLZXkpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBiYWxhbmNlbmV3ID0gYmFsYW5jZSAvIExBTVBPUlRTX1BFUl9TT0w7XG4gICAgICAgICAgICBzZXRCYWxhbmNlKGJhbGFuY2VuZXcpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVSUk9SIEdFVCBCQUxBTkNFXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHRvYXN0LmVycm9yKFwiU29tZXRoaW5nIHdlbnQgd3JvbmcgZ2V0dGluZyB0aGUgYmFsYW5jZVwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvL0Z1bmNpb24gcGFyYSBlbnZpYXIgdW5hIHRyYW5zYWNjaW9uXG4gICAgY29uc3Qgc2VuZFRyYW5zYWN0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy9Db25zdWx0YXIgZWwgYmFsYW5jZSBkZSBsYSB3YWxsZXRcbiAgICAgICAgICAgIGdldEJhbGFuY2VzKHB1YmxpY0tleSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVzdGUgZXMgZWwgYmFsYW5jZVwiLCBiYWxhbmNlKTtcblxuICAgICAgICAgICAgLy9TaSBlbCBiYWxhbmNlIGVzIG1lbm9yIGFsIG1vbnRvIGEgZW52aWFyXG4gICAgICAgICAgICBpZiAoYmFsYW5jZSA8IGFtb3VudCkge1xuICAgICAgICAgICAgICAgIHRvYXN0LmVycm9yKFwiTm8gdGllbmVzIHN1ZmljaWVudGUgYmFsYW5jZVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyID0gd2luZG93Py5waGFudG9tPy5zb2xhbmE7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gbmV3IENvbm5lY3Rpb24oXG4gICAgICAgICAgICAgICAgY2x1c3RlckFwaVVybChTT0xBTkFfTkVUV09SSyksXG4gICAgICAgICAgICAgICAgXCJjb25maXJtZWRcIlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy9MbGF2ZXNcblxuICAgICAgICAgICAgY29uc3QgZnJvbVB1YmtleSA9IG5ldyBQdWJsaWNLZXkocHVibGljS2V5KTtcbiAgICAgICAgICAgIGNvbnN0IHRvUHVia2V5ID0gbmV3IFB1YmxpY0tleShyZWNlaXZlcik7XG5cbiAgICAgICAgICAgIC8vQ3JlYW1vcyBsYSB0cmFuc2FjY2lvblxuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBuZXcgVHJhbnNhY3Rpb24oKS5hZGQoXG4gICAgICAgICAgICAgICAgU3lzdGVtUHJvZ3JhbS50cmFuc2Zlcih7XG4gICAgICAgICAgICAgICAgICAgIGZyb21QdWJrZXksXG4gICAgICAgICAgICAgICAgICAgIHRvUHVia2V5LFxuICAgICAgICAgICAgICAgICAgICBsYW1wb3J0czogYW1vdW50ICogTEFNUE9SVFNfUEVSX1NPTCxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXN0YSBlcyBsYSB0cmFuc2FjY2lvblwiLCB0cmFuc2FjdGlvbik7XG5cbiAgICAgICAgICAgIC8vVHJhZW1vcyBlbCB1bHRpbW8gYmxvY2tlIGRlIGhhc2hcbiAgICAgICAgICAgIGNvbnN0IHsgYmxvY2toYXNoIH0gPSBhd2FpdCBjb25uZWN0aW9uLmdldExhdGVzdEJsb2NraGFzaCgpO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24ucmVjZW50QmxvY2toYXNoID0gYmxvY2toYXNoO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24uZmVlUGF5ZXIgPSBmcm9tUHVia2V5O1xuXG4gICAgICAgICAgICAvL0Zpcm1hbW9zIGxhIHRyYW5zYWNjaW9uXG4gICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbnNpZ25hdHVyZSA9IGF3YWl0IHByb3ZpZGVyLnNpZ25UcmFuc2FjdGlvbihcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvblxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy9FbnZpYW1vcyBsYSB0cmFuc2FjY2lvblxuICAgICAgICAgICAgY29uc3QgdHhpZCA9IGF3YWl0IGNvbm5lY3Rpb24uc2VuZFJhd1RyYW5zYWN0aW9uKFxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uc2lnbmF0dXJlLnNlcmlhbGl6ZSgpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKGBUcmFuc2FjY2lvbiBjb24gbnVtZXJvIGRlIGlkICR7dHhpZH0gZW52aWFkYWApO1xuXG4gICAgICAgICAgICAvL0VzcGVyYW1vcyBhIHF1ZSBzZSBjb25maXJtZSBsYSB0cmFuc2FjY2lvblxuICAgICAgICAgICAgY29uc3QgY29uZmlybWF0aW9uID0gYXdhaXQgY29ubmVjdGlvbi5jb25maXJtVHJhbnNhY3Rpb24odHhpZCwge1xuICAgICAgICAgICAgICAgIGNvbW1pdG1lbnQ6IFwic2luZ2xlR29zc2lwXCIsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgeyBzbG90IH0gPSBjb25maXJtYXRpb24udmFsdWU7XG5cbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhcbiAgICAgICAgICAgICAgICBgVHJhbnNhY2Npb24gY29uIG51bWVybyBkZSBpZCAke3R4aWR9IGNvbmZpcm1hZG8gZW4gZWwgYmxvcXVlICR7c2xvdH1gXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBzb2xhbmFFeHBsb3JlckxpbmsgPSBgaHR0cHM6Ly9leHBsb3Jlci5zb2xhbmEuY29tL3R4LyR7dHhpZH0/Y2x1c3Rlcj0ke1NPTEFOQV9ORVRXT1JLfWA7XG4gICAgICAgICAgICBzZXRFeHBsb3Jlckxpbmsoc29sYW5hRXhwbG9yZXJMaW5rKTtcblxuICAgICAgICAgICAgdG9hc3Quc3VjY2VzcyhcIlRyYW5zYWNjaW9uIGVudmlhZGEgY29uIGV4aXRvIDpEIFwiKTtcblxuICAgICAgICAgICAgLy9BY3R1YWxpemFtb3MgZWwgYmFsYW5jZVxuICAgICAgICAgICAgZ2V0QmFsYW5jZXMocHVibGljS2V5KTtcbiAgICAgICAgICAgIHNldEFtb3VudChudWxsKTtcbiAgICAgICAgICAgIHNldFJlY2VpdmVyKG51bGwpO1xuXG4gICAgICAgICAgICByZXR1cm4gc29sYW5hRXhwbG9yZXJMaW5rO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVSUk9SIFNFTkQgVFJBTlNBQ1RJT05cIiwgZXJyb3IpO1xuICAgICAgICAgICAgdG9hc3QuZXJyb3IoXCJFcnJvciBhbCBlbnZpYXIgbGEgdHJhbnNhY2Npb25cIik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy9GdW5jacOzbiBwYXJhIHN1YmlyIGFyY2hpdm9zIGEgSVBGU1xuXG4gICAgY29uc3QgeyBtdXRhdGVBc3luYzogdXBsb2FkIH0gPSB1c2VTdG9yYWdlVXBsb2FkKCk7XG5cbiAgICBjb25zdCB1cGxvYWRUb0lwZnMgPSBhc3luYyAoZmlsZSkgPT4ge1xuICAgICAgICBzZXRTdGF0dXNUZXh0KFwiU3ViaWVuZG8gYSBJUEZTLi4uXCIpO1xuICAgICAgICBjb25zdCB1cGxvYWRVcmwgPSBhd2FpdCB1cGxvYWQoe1xuICAgICAgICAgICAgZGF0YTogW2ZpbGVdLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHVwbG9hZFdpdGhHYXRld2F5VXJsOiB0cnVlLFxuICAgICAgICAgICAgICAgIHVwbG9hZFdpdGhvdXREaXJlY3Rvcnk6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHVwbG9hZFVybFswXTtcbiAgICB9O1xuXG4gICAgLy8gVVJMIGEgQmxvYlxuICAgIGNvbnN0IHVybFRvQkxvYiA9IGFzeW5jIChmaWxlKSA9PiB7XG4gICAgICAgIHNldFN0YXR1c1RleHQoXCJUcmFuc2Zvcm1hbmRvIHVybC4uLlwiKTtcbiAgICAgICAgYXdhaXQgZmV0Y2godXJsKVxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmJsb2IoKSlcbiAgICAgICAgICAgIC50aGVuKChteUJsb2IpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBsb2dzOiBCbG9iIHsgc2l6ZTogMTAyNCwgdHlwZTogXCJpbWFnZS9qcGVnXCIgfVxuXG4gICAgICAgICAgICAgICAgbXlCbG9iLm5hbWUgPSBcImJsb2IucG5nXCI7XG5cbiAgICAgICAgICAgICAgICBmaWxlID0gbmV3IEZpbGUoW215QmxvYl0sIFwiaW1hZ2UucG5nXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbXlCbG9iLnR5cGUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB1cGxvYWRVcmwgPSBhd2FpdCB1cGxvYWRUb0lwZnMoZmlsZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwidXBsb2FkVXJsXCIsIHVwbG9hZFVybCk7XG5cbiAgICAgICAgc2V0U3RhdHVzVGV4dChgTGEgdXJsIGRlIHR1IGFyY2hpdm8gZXM6ICR7dXBsb2FkVXJsfSBgKTtcbiAgICAgICAgc2V0VXBsb2FkVXJsKHVwbG9hZFVybCk7XG5cbiAgICAgICAgcmV0dXJuIHVwbG9hZFVybDtcbiAgICB9O1xuXG4gICAgLy9GdW5jaW9uIHBhcmEgY3JlYXIgdW4gTkZUXG4gICAgY29uc3QgZ2VuZXJhdGVORlQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRTdGF0dXNUZXh0KFwiQ3JlYW5kbyB0dSBORlQuLi7inaRcIik7XG4gICAgICAgICAgICBjb25zdCBtaW50ZWREYXRhID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiTWkgcHJpbWVyIE5GVCBjb24gU3VwZXJ0ZWFtIE1YXCIsXG4gICAgICAgICAgICAgICAgaW1hZ2VVcmw6IHVwbG9hZFVybCxcbiAgICAgICAgICAgICAgICBwdWJsaWNLZXksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFc3RlIGVzIGVsIG9iamV0byBtaW50ZWREYXRhOlwiLCBtaW50ZWREYXRhKTtcbiAgICAgICAgICAgIHNldFN0YXR1c1RleHQoXG4gICAgICAgICAgICAgICAgXCJNaW50ZWFuZG8gdHUgTkZUIGVuIGxhIGJsb2NrY2hhaW4gU29sYW5hIPCfmoAgUG9yZmF2b3IgZXNwZXJhLi4uXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLnBvc3QoXCIvYXBpL21pbnRuZnRcIiwgbWludGVkRGF0YSk7XG4gICAgICAgICAgICBjb25zdCB7IHNpZ25hdHVyZTogbmV3U2lnbmF0dXJlIH0gPSBkYXRhO1xuICAgICAgICAgICAgY29uc3Qgc29sYW5hRXhwbG9yZXJVcmwgPSBgaHR0cHM6Ly9zb2xzY2FuLmlvL3R4LyR7bmV3U2lnbmF0dXJlfT9jbHVzdGVyPSR7U09MQU5BX05FVFdPUkt9YDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic29sYW5hRXhwbG9yZXJVcmxcIiwgc29sYW5hRXhwbG9yZXJVcmwpO1xuICAgICAgICAgICAgc2V0U3RhdHVzVGV4dChcbiAgICAgICAgICAgICAgICBcIsKhTGlzdG8hIFR1IE5GVCBzZSBhIGNyZWFkbywgcmV2aXNhIHR1IFBoYW50b20gV2FsbGV0IPCflpZcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFUlJPUiBHRU5FUkFURSBORlRcIiwgZXJyb3IpO1xuICAgICAgICAgICAgdG9hc3QuZXJyb3IoXCJFcnJvciBhbCBnZW5lcmFyIGVsIE5GVFwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBoLTggdy01MiBqdXN0aWZ5LWNlbnRlciBiZy1wdXJwbGUtNTAwIGZvbnQtYm9sZCB0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbkluKCk7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5pY2lhciBTZXNpb24g4pqhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEhvbWU7XG4iXSwibmFtZXMiOlsidG9hc3QiLCJUb2FzdGVyIiwiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJvdXRlciIsIkJvYXJkIiwiQ29ubmVjdGlvbiIsIlN5c3RlbVByb2dyYW0iLCJUcmFuc2FjdGlvbiIsIlB1YmxpY0tleSIsIkxBTVBPUlRTX1BFUl9TT0wiLCJjbHVzdGVyQXBpVXJsIiwiU2VuZFRyYW5zYWN0aW9uRXJyb3IiLCJ1c2VTdG9yYWdlVXBsb2FkIiwiYXhpb3MiLCJTT0xBTkFfTkVUV09SSyIsIkhvbWUiLCJwdWJsaWNLZXkiLCJzZXRQdWJsaWNLZXkiLCJyb3V0ZXIiLCJiYWxhbmNlIiwic2V0QmFsYW5jZSIsInJlY2VpdmVyIiwic2V0UmVjZWl2ZXIiLCJhbW91bnQiLCJzZXRBbW91bnQiLCJleHBsb3JlckxpbmsiLCJzZXRFeHBsb3JlckxpbmsiLCJ1cGxvYWRVcmwiLCJzZXRVcGxvYWRVcmwiLCJ1cmwiLCJzZXRVcmwiLCJzdGF0dXNUZXh0Iiwic2V0U3RhdHVzVGV4dCIsImtleSIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJnZXRCYWxhbmNlcyIsImhhbmRsZVJlY2VpdmVyQ2hhbmdlIiwiZXZlbnQiLCJ0YXJnZXQiLCJ2YWx1ZSIsImhhbmRsZUFtb3VudENoYW5nZSIsImhhbmRsZVN1Ym1pdCIsImNvbnNvbGUiLCJsb2ciLCJzZW5kVHJhbnNhY3Rpb24iLCJoYW5kbGVVcmxDaGFuZ2UiLCJzaWduSW4iLCJwcm92aWRlciIsInBoYW50b20iLCJzb2xhbmEiLCJpc1BoYW50b20iLCJlcnJvciIsInNldFRpbWVvdXQiLCJvcGVuIiwiY29ubmVjdCIsInRvU3RyaW5nIiwic2V0SXRlbSIsInN1Y2Nlc3MiLCJzaWduT3V0IiwicmVtb3ZlSXRlbSIsImRpc2Nvbm5lY3QiLCJyZWxvYWQiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiY29ubmVjdGlvbiIsImdldEJhbGFuY2UiLCJiYWxhbmNlbmV3IiwiZnJvbVB1YmtleSIsInRvUHVia2V5IiwidHJhbnNhY3Rpb24iLCJhZGQiLCJ0cmFuc2ZlciIsImxhbXBvcnRzIiwiYmxvY2toYXNoIiwiZ2V0TGF0ZXN0QmxvY2toYXNoIiwicmVjZW50QmxvY2toYXNoIiwiZmVlUGF5ZXIiLCJ0cmFuc2FjdGlvbnNpZ25hdHVyZSIsInNpZ25UcmFuc2FjdGlvbiIsInR4aWQiLCJzZW5kUmF3VHJhbnNhY3Rpb24iLCJzZXJpYWxpemUiLCJpbmZvIiwiY29uZmlybWF0aW9uIiwiY29uZmlybVRyYW5zYWN0aW9uIiwiY29tbWl0bWVudCIsInNsb3QiLCJzb2xhbmFFeHBsb3JlckxpbmsiLCJtdXRhdGVBc3luYyIsInVwbG9hZCIsInVwbG9hZFRvSXBmcyIsImZpbGUiLCJkYXRhIiwib3B0aW9ucyIsInVwbG9hZFdpdGhHYXRld2F5VXJsIiwidXBsb2FkV2l0aG91dERpcmVjdG9yeSIsInVybFRvQkxvYiIsImZldGNoIiwidGhlbiIsInJlcyIsImJsb2IiLCJteUJsb2IiLCJuYW1lIiwiRmlsZSIsInR5cGUiLCJnZW5lcmF0ZU5GVCIsIm1pbnRlZERhdGEiLCJpbWFnZVVybCIsInBvc3QiLCJzaWduYXR1cmUiLCJuZXdTaWduYXR1cmUiLCJzb2xhbmFFeHBsb3JlclVybCIsImJ1dHRvbiIsImNsYXNzTmFtZSIsIm9uQ2xpY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/index.js\n"));

/***/ })

});